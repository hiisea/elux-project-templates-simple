import {getApi, Facade, GetFacade, URouter} from '@elux/<%= elux %>';
import type {ModuleGetter} from './Project';

type API = GetFacade<Facade<ModuleGetter>>;

export type APPState = API['State'];
export type RouteState = APPState['route'];
export type RouteParams = RouteState['params'];
export type Pagename = RouteState['pagename'];
export type Router = URouter<RouteState>;
export type PatchActions = API['Actions']; // 使用demote命令兼容IE时使用

export const {Modules, LoadComponent, GetActions, GetRouter, useStore, useRouter} = getApi<API, Router>();

export const {StaticPrefix, ApiPrefix} = process.env.PROJ_ENV as {
  StaticPrefix: string;
  ApiPrefix: string;
};
